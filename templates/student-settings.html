<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Profile Settings</title>
    <link rel="stylesheet" href="../static/css/styles.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script>
      function confirmLeave() {
        if (confirm("Are you sure you want to leave this page? Any unsaved changes will be lost.")) {
          window.location.href = "/student-home";
        }
      }
    </script>
  </head>
  
  <body>
    <header>
      <a href="/student-home"><img class="logo" src="../static/images/classifylogoside.png"></a>
      <style>
        .logo {
          width: 300px; 
          height: auto; 
        }
      </style>

  <div class="btn-group">
      <a href="/about-us-student" class="btn btn-primary">About Us!</a>
      <a href="/faq-student"><button type="button" class="btn btn-secondary"><i class="bi-question-lg"></i></button></a>
      <!-- <a href="/student-settings"><button type="button" class="btn btn-dark"><i class="bi-person-circle"></i></button></a> -->
      <a href="/"><button type="button" class="btn btn-danger"><i class="bi bi-box-arrow-right"></i></button></a>
    </div>
    </header>
    
    
    <form class="form-container">
      <fieldset>
        <legend>Profile Settings</legend>
        
        <!-- Text input - First Name -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="first">First Name</label>
          <div class="col-md-4">                     
            <input id="first" name="first" type="text" placeholder="First Name" class="form-control" required="" value="{{ user.first_name }}">
          </div>
        </div>
        
        <!-- Text input - Last Name -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="last">Last Name</label>
          <div class="col-md-4">                     
            <input id="last" name="last" type="text" placeholder="Last Name" class="form-control" required="" value="{{ user.last_name }}">
          </div>
        </div>
        
        <!-- Text input - Email -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="email">Email</label>
          <div class="col-md-4">                     
            <input id="email" name="email" type="text" placeholder="Email" class="form-control" required="" value="{{ user.email }}">
          </div>
        </div>
        
        <!-- Text input - Username -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="username">Username</label>
          <div class="col-md-4">                     
            <input id="username" name="username" type="text" placeholder="Username" class="form-control" required="" value="{{ user.username }}">
          </div>
        </div>
        
        <!-- Password input - New Password -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="new_password">New Password</label>
          <div class="col-md-4">                     
            <input id="new_password" name="new_password" type="password" placeholder="New Password" class="form-control" required>
          </div>
        </div>

        <!-- Password input - Confirm Password -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="confirm_password">Confirm Password</label>
          <div class="col-md-4">                     
            <input id="confirm_password" name="confirm_password" type="password" placeholder="Confirm Password" class="form-control" required>
          </div>
        </div>

        <script>
          // Form validation
          const form = document.querySelector('.form-container');

          form.addEventListener('submit', function(event) {
            const newPassword = document.getElementById('new_password').value;
            const confirmPassword = document.getElementById('confirm_password').value;

            if (newPassword !== confirmPassword) {
              event.preventDefault(); // Prevent form submission
              alert('New password and confirm password do not match!');
            }
          });
        </script>
        
        
      
        <!-- Select Basic - Age -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="selectbasic">Age</label>
          <div class="col-md-4">
            <select id="selectbasic" name="selectbasic" class="form-control2">
              {% for age in range(1, 101) %}
                <option value="{{ age }}" {% if user.age == age %}selected{% endif %}>{{ age }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        
        <!-- Multiple Radios (inline) - Gender -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="radios">Gender</label>
          <div class="col-md-4"> 
            <label class="radio-inline" for="radios-0">
              <input type="radio" name="radios" id="radios-0" value="1" checked="checked">
              Male
            </label> 
            <label class="radio-inline" for="radios-1">
              <input type="radio" name="radios" id="radios-1" value="2">
              Female
            </label>
          </div>
        </div>

        <!-- Password input - Old Password -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="current_password">Current Password</label>
          <div class="col-md-4">                     
            <input id="current_password" name="current_password" type="password" placeholder="Current Password" class="form-control" required>
          </div>
        </div>

        <script>
          const form = document.querySelector('.form-container');
          const existingPassword = "{{ user.password }}";
        
          form.addEventListener('submit', function(event) {
            const currentPassword = document.getElementById('current_password').value;
            
        
            if (currentPassword !== existingPassword) {
              event.preventDefault(); // Prevent form submission
              alert('Current password is incorrect!');
            }
          });
        </script>
        
        <!-- Button - Update Settings -->
        <div class="form-group">
          <label class="col-md-4 control-label" for="singlebutton"></label>
          <div class="col-md-4">
              <button id="singlebutton" name="singlebutton" class="button-17" type="submit">Save</button>
          </div>
        </div>
        
      </fieldset>
    </form>
    
    <!-- Additional HTML content for the page -->
    
  </body>
</html>
